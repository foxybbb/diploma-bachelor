\subsection{Мини роботы}

Активное распространение роботов после середины 20 века привело к автоматизации почти всех аспектов производственных процессов, включая сборку, сварку, покраску, контроль качества и упаковку. Это также оказало значительное влияние на логистику, складское хозяйство и дистрибуцию, где роботизированные системы используются для сортировки, перемещения и хранения товаров. Прогресс в области механики, электроники и цифровых устройств, привел к созданию инновационных устройств. Это в свою очередь поспособствовало прогрессу, повышению качества и возможностей ранее разработанных решений. Одним из улучшений недавних разработок можно считать появление мини роботов манипуляторов.
Хотя стоит отметить, что большинство работ связанных со сборкой деталей небольших размеров до сих пор выполняются людьми. Использование существующих универсальных мини роботов манипуляторов является эффективным и рациональным решением, виду их небольшого размера и параметров соответствующих для работы с мелкими деталями и конструкциями.

Мини роботы манипуляторы представлены на рынке и разработки ведутся в данном направлении \citep{Li2022}, примером таких роботов могут считаться роботы моделей «MotoMini» от компании «Yaskawa», «Meca500» (Рисунок \ref{meca}) от компании «Mecademic»  и другие. Тема мини роботов является актуальной, однако стоит отметить, количество информации, на данный момент, о роботах этого класса крайне небольшое.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.3\textwidth]{Src/images/Meca500.jpg}
	\caption{Meca500 Robot Arm}
	\label{meca}
\end{figure}

Благодаря маленькому размеру всей конструкции, возможно создавать целые производственные линии прямо на столе. Это открывает новые возможности для мелкосерийного производства и разработки прототипов, где требуется высокая точность и гибкость процессов. Однако, несмотря на преимущества мини-роботов манипуляторов, они обладают недостатками. Главным недостатком является опасность работы роботов совместно с людьми. Для организации работы данных роботов необходимо создавать специальные закрытые рабочие зоны, для минимизации возможного риска, а работа совместно с человеком представляется невозможной.
Эта проблема ограничивает область применения мини-роботов, делая их непригодными для задач, где требуется тесное взаимодействие между человеком и машиной особенно при работе с мелкими предметами, требующие участия оператора. Также это снижает гибкость производственных систем, поскольку для изменения конфигурации линии может потребоваться значительное время и ресурсы на переустройство рабочей зоны. Отсутствие коллаборативности является основной проблемой данных типов роботов.


\subsection{Особенности коллаборативных роботов манипуляторов}

Коллаборативные роботы или коботы - это индустриальный тип робота, оборудованный набором датчиков и фиксирующих устройств, которые помогают с высокой точностью избегать столкновений с людьми и различными препятствиями, даже в случаях неисправности программного обеспечения. Эти устройства разработаны для работы в непосредственной близости с человеком, не требуя размещения в изолированных рабочих зонах. Они так же отличаются простотой программирования, что делает их доступными для использования персоналом без специализированных навыков.

Согласно международному стандарту ISO 10218 (части 1,2)  предусматривает четыре основных типа коллаборативных роботов \citep{robotiqWhatDoes}, которые могут использоваться для совместной работы с человеком.
\begin{itemize}
	\item  С остановочным защитным механизмом. Такие коллаборативные роботы способны работать автономно по введенной управляющей программы, но при появлении человека датчики останавливают его работу. Работа робота продолжается, когда человек покидает рабочую зону;
	\item С ручным управлением. В присутствии человека такой коллаборативный робот выполняет его команды, подаваемые рукой. Например, команда может подаваться путем касания рукой до определенной части корпуса или распознает движение рук на расстоянии. При отсутствии человека коллаборативный робот может работать автономно, если введена необходимая управляющая программа;
	\item  С «компьютерным зрением». Специальные датчики отслеживают движение людей. При входе человека в рабочую зону устанавливается пониженная, безопасная скорость. Если он приближается слишком близко, то коллаборативный робот останавливает работу;
	\item С ограниченной силой. Эти короботы при перемещении не сметают все по пути. Если они наталкиваются на препятствие, то останавливаются, в т. ч. при столкновении с человеком. Такие коллаборативные роботы могут использоваться в непосредственной близости от людей.
\end{itemize}


ISO/TS 15066:2016 представляет собой первый в своем роде документ, устанавливающий критерии безопасности для использования коллаборативных роботов. Разработка этого технического стандарта была осуществлена международным комитетом ISO, в который входили специалисты из 24 стран и представители ведущих производителей робототехники, начиная с 2010 года. Стандарт служит дополнением к уже существующим нормам безопасности промышленных роботов, зафиксированным в ISO 10218-1 и ISO 10218-2, и устанавливает конкретные требования к безопасному взаимодействию между промышленными роботами и людьми в рабочей среде. ISO/TS 15066 предлагает методические рекомендации для проведения оценки рисков, связанных с коллаборативным использованием роботов и человека.


Контролируемая остановка (Safety-rated monitored stop), Этот подход применяется, когда робот в основном работает автономно, однако иногда требуется вмешательство человека в рабочую зону. К примеру, робот может выполнять обработку детали, но в определенный момент процесса необходимо человеческое вмешательство для выполнения задачи, недоступной роботу. В случае входа человека в установленную зону безопасности, робот останавливается, при этом моторы остаются под напряжением и готовы к возобновлению работы. Это критично, так как после выхода человека из зоны безопасности, робот мгновенно продолжает свою деятельность, исключая потребность в полной перезагрузке программы, что могло бы произойти при полной остановке. Такой метод исключает простои в работе робота, которые бы возникали, если бы люди регулярно перемещались через его рабочую зону;
\begin{itemize}
\item Остановка обеспечивается без потери мощности двигателей (пауза);
\item Оператор может взаимодействовать с роботом;
\item Автоматическая работа может возобновиться, когда человек покидает рабочее пространство;
\item В один момент времени может двигаться либо человек, либо робот;
\item Может использоваться с обычными промышленными роботами, но нужно добавить световые барьеры безопасности (лазерные дальномеры, фотодетекторы).
\end{itemize}

Ручное ведение (Hand guiding);
Этот метод коллаборации применяется при выполнении сложных манипуляций с тяжелыми предметами и может быть адаптирован для использования с традиционными промышленными роботами при добавлении специального устройства. Это устройство, обычно датчик момента, установленный на фланце робота, позволяет ощущать силу, прикладываемую оператором к манипулятору, обеспечивая таким образом возможность более точного управления действиями робота.

\begin{itemize}
	\item Оператор находится в непосредственном контакте с роботом.
	\item Робот находится под ручным управлением.
	\item И человек, и робот могут двигаться одновременно (движения контролируются человеком).
	\item Могут использоваться обычные промышленные роботы.
	\item Требуется дополнительное оборудование ( датчик момента)
\end{itemize}

Контроль скорости и разделения (Speed and separation monitoring);
В этом подходе к совместной работе рабочее пространство робота ограничено световыми барьерами безопасности, аналогично первому типу коллаборации, которые отслеживают расположение людей вокруг. Основное отличие состоит в цели: в то время как в первом случае основной задачей робота является остановка при приближении человека, в данном сценарии целью является возможность параллельной работы человека и робота. Робот адаптирует свое поведение в соответствии с предварительно заданными зонами в его программе: с уменьшением дистанции до человека робот постепенно снижает скорость своих движений и останавливается при критическом сближении для предотвращения столкновения. Когда человек удаляется, робот возобновляет работу и увеличивает скорость.
\begin{itemize}
	\item Скорость робота уменьшается, по мере приближения человека.
	\item Робот останавливается, когда может произойти столкновение с человеком.
	\item Человек и робот могут перемещаться одновременно.
	\item Может использоваться с обычными промышленными роботами, но нужно добавить световые барьеры безопасности (лазерные дальномеры, фотодетекторы).
	\item Используется для операций, требующих частого присутствия персонала
\end{itemize}

Все описанные выше формы совместной работы могут использоваться с обычными промышленными роботами, при условии наличия дополнительных устройств. Такие решения называются коллаборативные робототехнические системы. Отличие коллаборативного робота в том, что он может не использовать дополнительные (внешние) устройства обеспечения безопасности – они уже встроены в него. Еще одно важное отличие коллаборативных робототехнических систем от коллаборативных роботов состоит в том, что при совместной работе исключается контакт с человеком. А вот коллаборативный робот может контактировать с телом человека без вреда для него. Это достигается за счет ограничения мощности и усилия.

Ограничение мощности и усилия (Power and force limiting). В «суставах» робота находятся датчики момента, которые могут определить факт столкновения с человеком. Если датчики обнаруживают превышение допустимых усилий, робот останавливается. Эти роботы также предназначены для рассеивания сил на широкой поверхности, в случае удара – именно поэтому детали их корпуса чаще всего сделаны с округлыми формами. Функционал по ограничению мощности и силы, как правило, входит в штатное ПО.


Существует интерес к разработкам различных типов BLDC моторов и возможности их использования при разработке робототехнических систем и устройств. Поэтому становиться актуальней задачей построение систем управления Gimbal для выполнения робототехнических операций.




Дальнейшее развитие мини роботов возможно только путем улучшении  их технических характеристик. При возможности использования компонентов малых размеров с требуемыми параметрами. Важным компонентом механизма мини робота манипулятора является электродвигатель. В поисках лучшего решения разрабатывают с различными вариантами двигателей. Исходя из тенденций последних исследований \citep{Sakama2022} рис \ref{magnets} но, что удельная мощность бесщеточных двигателей постоянного тока, с 1990-х годов, увеличилась более чем в десять раз за 20 лет, и теперь бесщеточные двигатели постоянного тока являются электродвигателями с самой высокой удельной мощностью. Удельная мощность данных двигателей увеличилась после появления постоянных магнитов с высокой максимальной энергией. В частности, появление неодимового магнита.

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{Src/images/magnets.png}
	\caption{Измерение удельной мощности в электрических двигателях во времени \citep{Sakama2022}}
	\label{magnets}
\end{figure}

\subsection{ Общие требования к система управления робота манипулятора}

Любой робот-манипулятор состоит из различных систем: электронной, механической, вычислительной, сенсорной и других. Система управления робота должна организовывать работу между ними и обеспечить функционирование робота манипулятора по следующим требованиям:
\begin{itemize}
	\item Точное управление движением, плавное управление движениями робота с
	      большой точностью, включая синхронизацию всех суставов и механизмов;

	\item Реализация заданных алгоритмов и задач, включает в себя задачи
	      последовательности движений и операций действий робота;

	\item Обработка сенсорных данных, точно обрабатывать данные с датчиков для
	      адаптации к изменениям окружающей среды;

	\item Взаимодействие с оператором, возможности для ручного управления и
	      программирования;

	\item Интеграция с другими системами, робот являться не только одним
	      элементом на производстве, использование совместно с системами конвейерных
	      линий.
\end{itemize}

\subsection{Система управления Gimbal в роли системы управления роботом}

После тщательного изучения требований, которым должен соответствовать робот манипулятор. Возникает логичный вопрос: почему не использовать готовые наработки для стабилизации камер в робототехнике? Сравнительном анализ двух систем показывает методы и принципы управления в общем совпадают. Однако, более детальный анализ выявляет как потенциальные возможности, так и ограничения данного решения. Системы стабилизации камер, как и роботы-манипуляторы используют сложные алгоритмы для контроля положения и движения, но в случаях устройств Gimbal управление можно представить как величин питающего напряжения и частоты с использованием скалярных регуляторов. \citep{Altan2020} В тоже время области применения двух систем диаметрально отличаются друг от друга: в системах управлениях Gimbal не применяются датчики угла поворота оси двигателя, а информацию о значении текущего положении рассчитывается с использованием значений гироскопа и акселерометра. Значений этих датчиков достаточно для обеспечения стабилизации, но не достаточно для определения точного положения управляемого объекта в пространстве, причина тому наличие дрейфа получаемых данных \citep{1223234}.  Можно использовать алгоритмы фильтрования данных для уменьшения погрешностей управления, но это усложняет систему управления. Привлекательно является применение более простых и надёжных решения управления.

Если нет возможности использования систему управления от Gimbal по ряду причин, указанных выше, то тогда целесообразно разработать систему управления роботом на основе двигателей Gimbal Motors учитывая их достоинства (значительная мощность при маленьких габаритах) в системах стабилизации камер, а при учитывании актуальности использования мини роботов в целом. Актуальность разработки таких систем управления повышается в связи с тенденциями в необходимости разработок мини роботов и использование мини роботов в ближайшие годы.

Эта актуальность определила целью работы. Целью работы является разработка системы управления мини роботом манипулятором на основе Gimbal motors.

\subsection{Определение функций и технических характеристик системы управления для мини роботом}

Перед определением функций и технических характеристик системы для управления мини роботом на основе Gimbal motors. Необходимо понять каким типам относится данные двигатели и как ими управлять.  Двигатели данной категории являются бесщёточными и состоят из ротора (магнита) и статора (катушек). Подключение бесщеточных двигателей производится тремя фазами. Поскольку управление осуществляется тремя фазами, последовательное приложение напряжения к обмоткам создает роторное магнитное поле, которое "бежит" вокруг статора, и это вращающееся поле заставляет ротор вращаться, следуя за ним.  Так как двигатели управляются постоянным напряжением через три фазы, можно получить только 6 устойчивых положений ротора в магнитном поле. При использовании 6 шаговой коммутации не обеспечивается плавное вращение. Gimbal представляют конструкцию многополюсных двигателей, за счет чего увеличивается возможное положение ротора, но для получения плавности комбинировать данные двигатели с алгоритмами векторного регулирования. Возможности к полностью предотвращения заеданий для компенсации крутящего момента при плавном управлении.

Система управления мини роботом манипулятором должна обеспечивать функциям:
\begin{itemize}
	\item Расчёт траектории движения, решение кинематических задач;
	\item Точное и плавное управление движением двигателем используя алгоритм векторного регулирования c обратной связью;
	\item Управление скоростью, ускорением, моментом электродвигателя;
	\item Ограничение минимальных и максимальных параметров скорости, ускорения и позиции, тока напряжения.
	\item Обработка данных с различных датчиков в реальном времени;
	\item Визуальное отображение состояния робота.
	\item Возможность интеграции с другими системами.
	\item Мониторинг температуры и отключение устройства при высоких температурах.
\end{itemize}

Разрабатывать систему управления для мини робота манипулятора невозможно в отрыве от конструкции самого робота. На основе анализа, выполненного в разделе 1.2. Было определённо, что система управления мини роботом манипулятором с использованием Gimbal motors, должна иметь технические характеристики, соответствующие характеристикам существующих мини роботов. Конструкция робота - 6 осевой робот манипулятор: шесть степеней свободы необходимо для приближенной имитации возможных движений человеческой руки. Для разработки системы управления мини роботом манипулятором взята наиболее часто встречающая кинематическая структура, приведена на рисунке \ref{Kin}.


\begin{figure}[H]
	\centering
	\input{Src/extra/KinStructureTikZ.tex}
	\caption{Кинематическая структура мини робота}
	\label{Kin}
\end{figure}

Параметры кинематической структуры:

\begin{itemize}
	\item d1, d2 , d3 , d4 , d5 - расстояния между звеньями;;
	\item θ1, θ2, θ3, θ4, θ5, θ6 - углы звеньев;
	      • a1, a2 - длины звеньев;
	\item X0, Y0 , Z0 - базовые координаты;
	\item X6, Y6 , Z6 - координаты инструмента.
\end{itemize}

Технические характеристики:
\begin{itemize}
	\item Количество осей – 6 осей;
	\item Точность перемещения осей 0.02 мм;
	\item Ограничение максимальной рабочей температуры: 80 °;
	\item Ограничение максимального тока двигателя до 25 A;
	\item Размер системы управления не должна превышать размера 300x300mm;
	\item Масса системы управления, не должна превышать 5 кг;
	\item Минимальная скорость поворота оси не менее 150 °/s;
	\item Средняя мощность потребления <200W;
	\item Рабочее напряжение 24В.
\end{itemize}

